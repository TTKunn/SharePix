# Knot å›¾ç‰‡åˆ†äº«ç³»ç»Ÿ API æ–‡æ¡£

**é¡¹ç›®åç§°**: Knot - Image Sharing Service
**ç‰ˆæœ¬**: v2.0.0
**æ›´æ–°æ—¶é—´**: 2025-10-08
**åŸºç¡€URL**: `http://localhost:8080/api/v1`

---

## ğŸ“‹ ç›®å½•

1. [è®¤è¯ç›¸å…³API](#è®¤è¯ç›¸å…³api)
   - [ç”¨æˆ·æ³¨å†Œ](#1-ç”¨æˆ·æ³¨å†Œ)
   - [ç”¨æˆ·ç™»å½•](#2-ç”¨æˆ·ç™»å½•)
   - [ä»¤ç‰ŒéªŒè¯](#3-ä»¤ç‰ŒéªŒè¯)
   - [ä»¤ç‰Œåˆ·æ–°](#4-ä»¤ç‰Œåˆ·æ–°)
   - [ç”¨æˆ·ç™»å‡º](#5-ç”¨æˆ·ç™»å‡º)
   - [ä¿®æ”¹å¯†ç ](#6-ä¿®æ”¹å¯†ç )

2. [å¸–å­ç®¡ç†API](#å¸–å­ç®¡ç†api) **ğŸ†• v2.0.0**
   - [åˆ›å»ºå¸–å­](#1-åˆ›å»ºå¸–å­)
   - [è·å–å¸–å­è¯¦æƒ…](#2-è·å–å¸–å­è¯¦æƒ…)
   - [æ›´æ–°å¸–å­](#3-æ›´æ–°å¸–å­)
   - [åˆ é™¤å¸–å­](#4-åˆ é™¤å¸–å­)
   - [è·å–Feedæµ](#5-è·å–feedæµ)
   - [è·å–ç”¨æˆ·å¸–å­åˆ—è¡¨](#6-è·å–ç”¨æˆ·å¸–å­åˆ—è¡¨)
   - [æ·»åŠ å›¾ç‰‡åˆ°å¸–å­](#7-æ·»åŠ å›¾ç‰‡åˆ°å¸–å­)
   - [ä»å¸–å­åˆ é™¤å›¾ç‰‡](#8-ä»å¸–å­åˆ é™¤å›¾ç‰‡)
   - [è°ƒæ•´å›¾ç‰‡é¡ºåº](#9-è°ƒæ•´å›¾ç‰‡é¡ºåº)

3. [å›¾ç‰‡ç®¡ç†API](#å›¾ç‰‡ç®¡ç†api) **âš ï¸ éƒ¨åˆ†å·²åºŸå¼ƒ**
   - [ä¸Šä¼ å›¾ç‰‡](#1-ä¸Šä¼ å›¾ç‰‡) âœ… å¯ç”¨ï¼ˆå†…éƒ¨è°ƒç”¨Post APIï¼‰
   - [è·å–æœ€æ–°å›¾ç‰‡åˆ—è¡¨](#2-è·å–æœ€æ–°å›¾ç‰‡åˆ—è¡¨) âœ… å¯ç”¨
   - [è·å–å›¾ç‰‡è¯¦æƒ…](#3-è·å–å›¾ç‰‡è¯¦æƒ…) âœ… å¯ç”¨
   - [æ›´æ–°å›¾æ–‡é…æ–‡](#4-æ›´æ–°å›¾æ–‡é…æ–‡) âŒ å·²åºŸå¼ƒï¼ˆä½¿ç”¨Post APIï¼‰
   - [åˆ é™¤å›¾ç‰‡](#5-åˆ é™¤å›¾ç‰‡) âœ… å¯ç”¨
   - [è·å–ç”¨æˆ·å›¾ç‰‡åˆ—è¡¨](#6-è·å–ç”¨æˆ·å›¾ç‰‡åˆ—è¡¨) âœ… å¯ç”¨

4. [ç³»ç»Ÿç›¸å…³API](#ç³»ç»Ÿç›¸å…³api)
   - [å¥åº·æ£€æŸ¥](#1-å¥åº·æ£€æŸ¥)
   - [ç³»ç»ŸæŒ‡æ ‡](#2-ç³»ç»ŸæŒ‡æ ‡)
   - [ç‰ˆæœ¬ä¿¡æ¯](#3-ç‰ˆæœ¬ä¿¡æ¯)

---

## è®¤è¯ç›¸å…³API

### 1. ç”¨æˆ·æ³¨å†Œ

**åŠŸèƒ½ä»‹ç»**: æ³¨å†Œæ–°ç”¨æˆ·è´¦å·

**è¯·æ±‚æ–¹å¼**: `POST`

**è¯·æ±‚è·¯å¾„**: `/auth/register`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| username | string | æ˜¯ | ç”¨æˆ·åï¼ˆ3-50å­—ç¬¦ï¼Œå­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼‰ | "zhangsan" |
| password | string | æ˜¯ | å¯†ç ï¼ˆ6-100å­—ç¬¦ï¼‰ | "password123" |
| real_name | string | æ˜¯ | çœŸå®å§“åï¼ˆä¸è¶…è¿‡50å­—ç¬¦ï¼‰ | "å¼ ä¸‰" |
| phone | string | æ˜¯ | æ‰‹æœºå·ï¼ˆ11ä½ä¸­å›½æ‰‹æœºå·ï¼‰ | "13800138000" |
| email | string | å¦ | é‚®ç®±ï¼ˆå¯é€‰ï¼‰ | "zhangsan@example.com" |
| role | string | å¦ | ç”¨æˆ·è§’è‰²ï¼ˆowner/driver/bothï¼Œé»˜è®¤driverï¼‰ | "driver" |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "username": "zhangsan",
  "password": "password123",
  "real_name": "å¼ ä¸‰",
  "phone": "13800138000",
  "email": "zhangsan@example.com",
  "role": "driver"
}
```

**è¿”å›å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |
| data | object | ç”¨æˆ·æ•°æ®ï¼ˆæˆåŠŸæ—¶è¿”å›ï¼‰ |
| data.id | integer | ç‰©ç†ID |
| data.user_id | string | é€»è¾‘ID |
| data.username | string | ç”¨æˆ·å |
| data.real_name | string | çœŸå®å§“å |
| data.phone | string | æ‰‹æœºå· |
| data.email | string | é‚®ç®± |
| data.role | string | ç”¨æˆ·è§’è‰² |
| data.status | string | è´¦æˆ·çŠ¶æ€ |
| data.create_time | integer | åˆ›å»ºæ—¶é—´ï¼ˆæ—¶é—´æˆ³ï¼‰ |

**æˆåŠŸå“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "æ³¨å†ŒæˆåŠŸ",
  "data": {
    "id": 1,
    "user_id": "USR_2025Q1_A1B2C3",
    "username": "zhangsan",
    "real_name": "å¼ ä¸‰",
    "phone": "13800138000",
    "email": "zhangsan@example.com",
    "role": "driver",
    "status": "active",
    "avatar_url": "",
    "device_count": 0,
    "create_time": 1704067200,
    "update_time": 1704067200
  }
}
```

**å¤±è´¥å“åº”ç¤ºä¾‹**:
```json
{
  "success": false,
  "message": "ç”¨æˆ·åå·²å­˜åœ¨",
  "data": null
}
```

**é”™è¯¯ç è¯´æ˜**:
- `ç”¨æˆ·åå·²å­˜åœ¨`: ç”¨æˆ·åé‡å¤
- `æ‰‹æœºå·å·²è¢«æ³¨å†Œ`: æ‰‹æœºå·é‡å¤
- `é‚®ç®±å·²è¢«æ³¨å†Œ`: é‚®ç®±é‡å¤
- `ç”¨æˆ·åä¸èƒ½ä¸ºç©º`: å‚æ•°éªŒè¯å¤±è´¥
- `æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®`: æ‰‹æœºå·æ ¼å¼é”™è¯¯

---

### 2. ç”¨æˆ·ç™»å½•

**åŠŸèƒ½ä»‹ç»**: ç”¨æˆ·ç™»å½•è·å–è®¿é—®ä»¤ç‰Œ

**è¯·æ±‚æ–¹å¼**: `POST`

**è¯·æ±‚è·¯å¾„**: `/auth/login`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| username | string | æ˜¯ | ç”¨æˆ·å/æ‰‹æœºå·/é‚®ç®± | "zhangsan" æˆ– "13800138000" |
| password | string | æ˜¯ | å¯†ç  | "password123" |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "username": "zhangsan",
  "password": "password123"
}
```

**è¿”å›å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |
| data | object | ç™»å½•æ•°æ®ï¼ˆæˆåŠŸæ—¶è¿”å›ï¼‰ |
| data.access_token | string | è®¿é—®ä»¤ç‰Œï¼ˆæœ‰æ•ˆæœŸ1å°æ—¶ï¼‰ |
| data.refresh_token | string | åˆ·æ–°ä»¤ç‰Œï¼ˆæœ‰æ•ˆæœŸ24å°æ—¶ï¼‰ |
| data.user | object | ç”¨æˆ·ä¿¡æ¯ |

**æˆåŠŸå“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "user_id": "USR_2025Q1_A1B2C3",
      "username": "zhangsan",
      "real_name": "å¼ ä¸‰",
      "phone": "13800138000",
      "email": "zhangsan@example.com",
      "role": "driver",
      "status": "active"
    }
  }
}
```

**å¤±è´¥å“åº”ç¤ºä¾‹**:
```json
{
  "success": false,
  "message": "å¯†ç é”™è¯¯",
  "data": null
}
```

**é”™è¯¯ç è¯´æ˜**:
- `ç”¨æˆ·ä¸å­˜åœ¨`: ç”¨æˆ·å/æ‰‹æœºå·/é‚®ç®±ä¸å­˜åœ¨
- `å¯†ç é”™è¯¯`: å¯†ç ä¸æ­£ç¡®
- `è´¦æˆ·å·²è¢«å°ç¦`: è´¦æˆ·çŠ¶æ€ä¸ºbanned
- `è´¦æˆ·æœªæ¿€æ´»`: è´¦æˆ·çŠ¶æ€ä¸ºinactive

---

### 3. ä»¤ç‰ŒéªŒè¯

**åŠŸèƒ½ä»‹ç»**: éªŒè¯JWTè®¿é—®ä»¤ç‰Œæ˜¯å¦æœ‰æ•ˆ

**è¯·æ±‚æ–¹å¼**: `POST`

**è¯·æ±‚è·¯å¾„**: `/auth/validate`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
Authorization: Bearer {access_token}
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| token | string | æ˜¯ | JWTè®¿é—®ä»¤ç‰Œ | "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**è¿”å›å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| valid | boolean | ä»¤ç‰Œæ˜¯å¦æœ‰æ•ˆ |
| message | string | è¿”å›æ¶ˆæ¯ |
| data | object | ä»¤ç‰Œæ•°æ®ï¼ˆæœ‰æ•ˆæ—¶è¿”å›ï¼‰ |
| data.user_id | integer | ç”¨æˆ·ID |
| data.username | string | ç”¨æˆ·å |

**æˆåŠŸå“åº”ç¤ºä¾‹**:
```json
{
  "valid": true,
  "message": "ä»¤ç‰Œæœ‰æ•ˆ",
  "data": {
    "user_id": 1,
    "username": "zhangsan"
  }
}
```

**å¤±è´¥å“åº”ç¤ºä¾‹**:
```json
{
  "valid": false,
  "message": "ä»¤ç‰Œæ— æ•ˆæˆ–å·²è¿‡æœŸ",
  "data": null
}
```

---

### 4. ä»¤ç‰Œåˆ·æ–°

**åŠŸèƒ½ä»‹ç»**: ä½¿ç”¨åˆ·æ–°ä»¤ç‰Œè·å–æ–°çš„è®¿é—®ä»¤ç‰Œ

**è¯·æ±‚æ–¹å¼**: `POST`

**è¯·æ±‚è·¯å¾„**: `/auth/refresh`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| refresh_token | string | æ˜¯ | JWTåˆ·æ–°ä»¤ç‰Œ | "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**è¿”å›å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |
| data | object | æ–°ä»¤ç‰Œæ•°æ® |
| data.access_token | string | æ–°çš„è®¿é—®ä»¤ç‰Œ |
| data.refresh_token | string | æ–°çš„åˆ·æ–°ä»¤ç‰Œ |

**æˆåŠŸå“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "ä»¤ç‰Œåˆ·æ–°æˆåŠŸ",
  "data": {
    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

**å¤±è´¥å“åº”ç¤ºä¾‹**:
```json
{
  "success": false,
  "message": "åˆ·æ–°ä»¤ç‰Œæ— æ•ˆ",
  "data": null
}
```

---

### 5. ç”¨æˆ·ç™»å‡º

**åŠŸèƒ½ä»‹ç»**: ç”¨æˆ·ç™»å‡ºï¼ˆç®€åŒ–å®ç°ï¼ŒJWTä»¤ç‰Œè‡ªåŠ¨è¿‡æœŸï¼‰

**è¯·æ±‚æ–¹å¼**: `POST`

**è¯·æ±‚è·¯å¾„**: `/auth/logout`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
Authorization: Bearer {access_token}
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| access_token | string | æ˜¯ | JWTè®¿é—®ä»¤ç‰Œ | "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

**è¿”å›å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |

**æˆåŠŸå“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "ç™»å‡ºæˆåŠŸ"
}
```

**æ³¨æ„**: å½“å‰å®ç°ä¸ºç®€åŒ–ç‰ˆæœ¬ï¼ŒJWTä»¤ç‰Œä¼šåœ¨è¿‡æœŸåè‡ªåŠ¨å¤±æ•ˆï¼Œæœªå®ç°ä»¤ç‰Œé»‘åå•åŠŸèƒ½ã€‚

---

### 6. ä¿®æ”¹å¯†ç 

**åŠŸèƒ½ä»‹ç»**: ä¿®æ”¹ç”¨æˆ·å¯†ç 

**è¯·æ±‚æ–¹å¼**: `POST`

**è¯·æ±‚è·¯å¾„**: `/auth/change-password`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
Authorization: Bearer {access_token}
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| user_id | integer | æ˜¯ | ç”¨æˆ·ID | 1 |
| old_password | string | æ˜¯ | æ—§å¯†ç  | "password123" |
| new_password | string | æ˜¯ | æ–°å¯†ç ï¼ˆ6-100å­—ç¬¦ï¼‰ | "newpassword456" |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "user_id": 1,
  "old_password": "password123",
  "new_password": "newpassword456"
}
```

**è¿”å›å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |

**æˆåŠŸå“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "å¯†ç ä¿®æ”¹æˆåŠŸ"
}
```

**å¤±è´¥å“åº”ç¤ºä¾‹**:
```json
{
  "success": false,
  "message": "æ—§å¯†ç ä¸æ­£ç¡®"
}
```

**é”™è¯¯ç è¯´æ˜**:
- `ç”¨æˆ·ä¸å­˜åœ¨`: ç”¨æˆ·IDä¸å­˜åœ¨
- `æ—§å¯†ç ä¸æ­£ç¡®`: æ—§å¯†ç éªŒè¯å¤±è´¥
- `æ–°å¯†ç æ ¼å¼ä¸æ­£ç¡®`: æ–°å¯†ç é•¿åº¦ä¸ç¬¦åˆè¦æ±‚

---

## å¸–å­ç®¡ç†API

> **ğŸ†• v2.0.0 æ–°å¢**: æ”¯æŒå¤šå›¾ç‰‡å¸–å­ï¼ˆ1-9å¼ å›¾ç‰‡ï¼‰

### 1. åˆ›å»ºå¸–å­

**åŠŸèƒ½ä»‹ç»**: åˆ›å»ºåŒ…å«1-9å¼ å›¾ç‰‡çš„å¸–å­

**è¯·æ±‚æ–¹å¼**: `POST`

**è¯·æ±‚è·¯å¾„**: `/posts`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
Authorization: Bearer <access_token>
```

**è¯·æ±‚å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| title | string | æ˜¯ | å¸–å­æ ‡é¢˜ï¼ˆ1-255å­—ç¬¦ï¼‰ |
| description | string | å¦ | å¸–å­é…æ–‡ï¼ˆæœ€å¤š1000å­—ç¬¦ï¼‰ |
| imageFiles | array | æ˜¯ | å›¾ç‰‡æ–‡ä»¶è·¯å¾„æ•°ç»„ï¼ˆ1-9å¼ ï¼‰ |
| tags | array | å¦ | æ ‡ç­¾æ•°ç»„ï¼ˆæœ€å¤š5ä¸ªï¼‰ |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "title": "ç¾å¥½çš„ä¸€å¤©",
  "description": "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œæ‹äº†å‡ å¼ ç…§ç‰‡åˆ†äº«ç»™å¤§å®¶",
  "imageFiles": [
    "/tmp/upload_abc123.jpg",
    "/tmp/upload_def456.jpg",
    "/tmp/upload_ghi789.jpg"
  ],
  "tags": ["é£æ™¯", "æ—…è¡Œ", "æ‘„å½±"]
}
```

**è¿”å›å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |
| postId | string | å¸–å­ä¸šåŠ¡ID |
| post | object | å¸–å­å¯¹è±¡ï¼ˆåŒ…å«imagesæ•°ç»„ï¼‰ |

**è¿”å›ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "å¸–å­åˆ›å»ºæˆåŠŸ",
  "postId": "POST_2025Q4_ABC123",
  "post": {
    "postId": "POST_2025Q4_ABC123",
    "userId": 1,
    "title": "ç¾å¥½çš„ä¸€å¤©",
    "description": "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œæ‹äº†å‡ å¼ ç…§ç‰‡åˆ†äº«ç»™å¤§å®¶",
    "imageCount": 3,
    "likeCount": 0,
    "favoriteCount": 0,
    "viewCount": 0,
    "status": "APPROVED",
    "createTime": "2025-10-08 10:30:00",
    "updateTime": "2025-10-08 10:30:00",
    "images": [
      {
        "imageId": "IMG_2025Q4_XYZ001",
        "postId": 1,
        "displayOrder": 1,
        "userId": 1,
        "fileUrl": "/uploads/images/abc123.jpg",
        "thumbnailUrl": "/uploads/thumbnails/abc123_thumb.jpg",
        "fileSize": 1024000,
        "width": 1920,
        "height": 1080,
        "mimeType": "image/jpeg",
        "createTime": "2025-10-08 10:30:00"
      },
      {
        "imageId": "IMG_2025Q4_XYZ002",
        "postId": 1,
        "displayOrder": 2,
        "userId": 1,
        "fileUrl": "/uploads/images/def456.jpg",
        "thumbnailUrl": "/uploads/thumbnails/def456_thumb.jpg",
        "fileSize": 856000,
        "width": 1920,
        "height": 1080,
        "mimeType": "image/jpeg",
        "createTime": "2025-10-08 10:30:00"
      },
      {
        "imageId": "IMG_2025Q4_XYZ003",
        "postId": 1,
        "displayOrder": 3,
        "userId": 1,
        "fileUrl": "/uploads/images/ghi789.jpg",
        "thumbnailUrl": "/uploads/thumbnails/ghi789_thumb.jpg",
        "fileSize": 920000,
        "width": 1920,
        "height": 1080,
        "mimeType": "image/jpeg",
        "createTime": "2025-10-08 10:30:00"
      }
    ]
  },
  "timestamp": 1696752600
}
```

**é”™è¯¯ç **:
- `401 Unauthorized`: æœªæä¾›è®¤è¯ä»¤ç‰Œæˆ–ä»¤ç‰Œæ— æ•ˆ
- `400 Bad Request`: å‚æ•°é”™è¯¯ï¼ˆæ ‡é¢˜ä¸ºç©ºã€å›¾ç‰‡æ•°é‡ä¸ç¬¦åˆè¦æ±‚ç­‰ï¼‰
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 2. è·å–å¸–å­è¯¦æƒ…

**åŠŸèƒ½ä»‹ç»**: è·å–å¸–å­çš„å®Œæ•´ä¿¡æ¯ï¼ˆåŒ…å«æ‰€æœ‰å›¾ç‰‡ï¼‰

**è¯·æ±‚æ–¹å¼**: `GET`

**è¯·æ±‚è·¯å¾„**: `/posts/:post_id`

**è¯·æ±‚å¤´**:
```
æ— éœ€è®¤è¯
```

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| post_id | string | æ˜¯ | å¸–å­ä¸šåŠ¡ID |

**è¿”å›å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |
| post | object | å¸–å­å¯¹è±¡ï¼ˆåŒ…å«imagesæ•°ç»„ï¼‰ |

**è¿”å›ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "post": {
    "postId": "POST_2025Q4_ABC123",
    "userId": 1,
    "title": "ç¾å¥½çš„ä¸€å¤©",
    "description": "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œæ‹äº†å‡ å¼ ç…§ç‰‡åˆ†äº«ç»™å¤§å®¶",
    "imageCount": 3,
    "likeCount": 10,
    "favoriteCount": 5,
    "viewCount": 100,
    "status": "APPROVED",
    "createTime": "2025-10-08 10:30:00",
    "updateTime": "2025-10-08 10:30:00",
    "images": [...]
  },
  "timestamp": 1696752600
}
```

**é”™è¯¯ç **:
- `404 Not Found`: å¸–å­ä¸å­˜åœ¨
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 3. æ›´æ–°å¸–å­

**åŠŸèƒ½ä»‹ç»**: æ›´æ–°å¸–å­çš„æ ‡é¢˜å’Œé…æ–‡ï¼ˆåªæœ‰ä½œè€…å¯ä»¥æ›´æ–°ï¼‰

**è¯·æ±‚æ–¹å¼**: `PUT`

**è¯·æ±‚è·¯å¾„**: `/posts/:post_id`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
Authorization: Bearer <access_token>
```

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| post_id | string | æ˜¯ | å¸–å­ä¸šåŠ¡ID |

**è¯·æ±‚å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| title | string | æ˜¯ | æ–°æ ‡é¢˜ï¼ˆ1-255å­—ç¬¦ï¼‰ |
| description | string | å¦ | æ–°é…æ–‡ï¼ˆæœ€å¤š1000å­—ç¬¦ï¼‰ |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "title": "æ›´æ–°åçš„æ ‡é¢˜",
  "description": "æ›´æ–°åçš„é…æ–‡"
}
```

**è¿”å›å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |

**è¿”å›ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "å¸–å­æ›´æ–°æˆåŠŸ",
  "timestamp": 1696752600
}
```

**é”™è¯¯ç **:
- `401 Unauthorized`: æœªæä¾›è®¤è¯ä»¤ç‰Œæˆ–ä»¤ç‰Œæ— æ•ˆ
- `403 Forbidden`: æ— æƒé™ï¼ˆä¸æ˜¯ä½œè€…ï¼‰
- `404 Not Found`: å¸–å­ä¸å­˜åœ¨
- `400 Bad Request`: å‚æ•°é”™è¯¯
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 4. åˆ é™¤å¸–å­

**åŠŸèƒ½ä»‹ç»**: åˆ é™¤å¸–å­åŠå…¶æ‰€æœ‰å›¾ç‰‡ï¼ˆåªæœ‰ä½œè€…å¯ä»¥åˆ é™¤ï¼‰

**è¯·æ±‚æ–¹å¼**: `DELETE`

**è¯·æ±‚è·¯å¾„**: `/posts/:post_id`

**è¯·æ±‚å¤´**:
```
Authorization: Bearer <access_token>
```

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| post_id | string | æ˜¯ | å¸–å­ä¸šåŠ¡ID |

**è¿”å›å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |

**è¿”å›ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "å¸–å­åˆ é™¤æˆåŠŸ",
  "timestamp": 1696752600
}
```

**é”™è¯¯ç **:
- `401 Unauthorized`: æœªæä¾›è®¤è¯ä»¤ç‰Œæˆ–ä»¤ç‰Œæ— æ•ˆ
- `403 Forbidden`: æ— æƒé™ï¼ˆä¸æ˜¯ä½œè€…ï¼‰
- `404 Not Found`: å¸–å­ä¸å­˜åœ¨
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 5. è·å–Feedæµ

**åŠŸèƒ½ä»‹ç»**: è·å–æœ€æ–°å¸–å­åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰

**è¯·æ±‚æ–¹å¼**: `GET`

**è¯·æ±‚è·¯å¾„**: `/posts`

**è¯·æ±‚å¤´**:
```
æ— éœ€è®¤è¯
```

**æŸ¥è¯¢å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| page | int | å¦ | é¡µç ï¼ˆé»˜è®¤1ï¼‰ |
| pageSize | int | å¦ | æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤20ï¼Œæœ€å¤§100ï¼‰ |

**è¿”å›å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |
| posts | array | å¸–å­åˆ—è¡¨ï¼ˆåŒ…å«imagesæ•°ç»„ï¼‰ |
| total | int | æ€»æ•° |
| page | int | å½“å‰é¡µç  |
| pageSize | int | æ¯é¡µæ•°é‡ |

**è¿”å›ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "posts": [
    {
      "postId": "POST_2025Q4_ABC123",
      "userId": 1,
      "title": "ç¾å¥½çš„ä¸€å¤©",
      "description": "ä»Šå¤©å¤©æ°”çœŸå¥½",
      "imageCount": 3,
      "likeCount": 10,
      "favoriteCount": 5,
      "viewCount": 100,
      "status": "APPROVED",
      "createTime": "2025-10-08 10:30:00",
      "updateTime": "2025-10-08 10:30:00",
      "images": [...]
    }
  ],
  "total": 100,
  "page": 1,
  "pageSize": 20,
  "timestamp": 1696752600
}
```

**é”™è¯¯ç **:
- `400 Bad Request`: å‚æ•°é”™è¯¯
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 6. è·å–ç”¨æˆ·å¸–å­åˆ—è¡¨

**åŠŸèƒ½ä»‹ç»**: è·å–æŒ‡å®šç”¨æˆ·çš„æ‰€æœ‰å¸–å­ï¼ˆåˆ†é¡µï¼‰

**è¯·æ±‚æ–¹å¼**: `GET`

**è¯·æ±‚è·¯å¾„**: `/users/:user_id/posts`

**è¯·æ±‚å¤´**:
```
æ— éœ€è®¤è¯
```

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| user_id | int | æ˜¯ | ç”¨æˆ·ID |

**æŸ¥è¯¢å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| page | int | å¦ | é¡µç ï¼ˆé»˜è®¤1ï¼‰ |
| pageSize | int | å¦ | æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤20ï¼Œæœ€å¤§100ï¼‰ |

**è¿”å›å‚æ•°**: åŒ"è·å–Feedæµ"

**é”™è¯¯ç **:
- `400 Bad Request`: å‚æ•°é”™è¯¯
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 7. æ·»åŠ å›¾ç‰‡åˆ°å¸–å­

**åŠŸèƒ½ä»‹ç»**: å‘ç°æœ‰å¸–å­æ·»åŠ å›¾ç‰‡ï¼ˆæœ€å¤š9å¼ ï¼‰

**è¯·æ±‚æ–¹å¼**: `POST`

**è¯·æ±‚è·¯å¾„**: `/posts/:post_id/images`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
Authorization: Bearer <access_token>
```

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| post_id | string | æ˜¯ | å¸–å­ä¸šåŠ¡ID |

**è¯·æ±‚å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| imageFile | string | æ˜¯ | å›¾ç‰‡æ–‡ä»¶è·¯å¾„ |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "imageFile": "/tmp/upload_new123.jpg"
}
```

**è¿”å›å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |

**è¿”å›ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "å›¾ç‰‡æ·»åŠ æˆåŠŸ",
  "timestamp": 1696752600
}
```

**é”™è¯¯ç **:
- `401 Unauthorized`: æœªæä¾›è®¤è¯ä»¤ç‰Œæˆ–ä»¤ç‰Œæ— æ•ˆ
- `403 Forbidden`: æ— æƒé™ï¼ˆä¸æ˜¯ä½œè€…ï¼‰
- `404 Not Found`: å¸–å­ä¸å­˜åœ¨
- `400 Bad Request`: å›¾ç‰‡æ•°é‡å·²è¾¾ä¸Šé™ï¼ˆ9å¼ ï¼‰
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 8. ä»å¸–å­åˆ é™¤å›¾ç‰‡

**åŠŸèƒ½ä»‹ç»**: ä»å¸–å­ä¸­åˆ é™¤æŒ‡å®šå›¾ç‰‡ï¼ˆè‡³å°‘ä¿ç•™1å¼ ï¼‰

**è¯·æ±‚æ–¹å¼**: `DELETE`

**è¯·æ±‚è·¯å¾„**: `/posts/:post_id/images/:image_id`

**è¯·æ±‚å¤´**:
```
Authorization: Bearer <access_token>
```

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| post_id | string | æ˜¯ | å¸–å­ä¸šåŠ¡ID |
| image_id | string | æ˜¯ | å›¾ç‰‡ä¸šåŠ¡ID |

**è¿”å›å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |

**è¿”å›ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "å›¾ç‰‡åˆ é™¤æˆåŠŸ",
  "timestamp": 1696752600
}
```

**é”™è¯¯ç **:
- `401 Unauthorized`: æœªæä¾›è®¤è¯ä»¤ç‰Œæˆ–ä»¤ç‰Œæ— æ•ˆ
- `403 Forbidden`: æ— æƒé™ï¼ˆä¸æ˜¯ä½œè€…ï¼‰
- `404 Not Found`: å¸–å­æˆ–å›¾ç‰‡ä¸å­˜åœ¨
- `400 Bad Request`: ä¸èƒ½åˆ é™¤æœ€åä¸€å¼ å›¾ç‰‡
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 9. è°ƒæ•´å›¾ç‰‡é¡ºåº

**åŠŸèƒ½ä»‹ç»**: è°ƒæ•´å¸–å­ä¸­å›¾ç‰‡çš„æ˜¾ç¤ºé¡ºåº

**è¯·æ±‚æ–¹å¼**: `PUT`

**è¯·æ±‚è·¯å¾„**: `/posts/:post_id/images/order`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
Authorization: Bearer <access_token>
```

**è·¯å¾„å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| post_id | string | æ˜¯ | å¸–å­ä¸šåŠ¡ID |

**è¯·æ±‚å‚æ•°**:
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| imageIds | array | æ˜¯ | å›¾ç‰‡IDæ•°ç»„ï¼ˆæŒ‰æ–°é¡ºåºæ’åˆ—ï¼‰ |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "imageIds": [
    "IMG_2025Q4_XYZ003",
    "IMG_2025Q4_XYZ001",
    "IMG_2025Q4_XYZ002"
  ]
}
```

**è¿”å›å‚æ•°**:
| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ˜¯å¦æˆåŠŸ |
| message | string | è¿”å›æ¶ˆæ¯ |

**è¿”å›ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "å›¾ç‰‡é¡ºåºè°ƒæ•´æˆåŠŸ",
  "timestamp": 1696752600
}
```

**é”™è¯¯ç **:
- `401 Unauthorized`: æœªæä¾›è®¤è¯ä»¤ç‰Œæˆ–ä»¤ç‰Œæ— æ•ˆ
- `403 Forbidden`: æ— æƒé™ï¼ˆä¸æ˜¯ä½œè€…ï¼‰
- `404 Not Found`: å¸–å­ä¸å­˜åœ¨
- `400 Bad Request`: å›¾ç‰‡IDæ•°é‡ä¸åŒ¹é…æˆ–åŒ…å«æ— æ•ˆID
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

## å›¾ç‰‡ç®¡ç†API

> **âš ï¸ éƒ¨åˆ†APIå·²åºŸå¼ƒ**: å»ºè®®ä½¿ç”¨å¸–å­ç®¡ç†API

### 1. ä¸Šä¼ å›¾ç‰‡

**åŠŸèƒ½ä»‹ç»**: ç”¨æˆ·ä¸Šä¼ å›¾æ–‡æ¨æ–‡ï¼ˆå›¾ç‰‡ä¸ºä¸» + é…æ–‡ï¼‰

**è¯·æ±‚æ–¹å¼**: `POST`

**è¯·æ±‚è·¯å¾„**: `/images`

**è¯·æ±‚å¤´**:
```
Content-Type: multipart/form-data
Authorization: Bearer {access_token}
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| image | File | æ˜¯ | å›¾ç‰‡æ–‡ä»¶ï¼ˆæ”¯æŒJPEG/PNG/WebPï¼Œæœ€å¤§5MBï¼‰ |
| title | String | æ˜¯ | æ¨æ–‡æ ‡é¢˜ï¼ˆæœ€å¤š255å­—ç¬¦ï¼‰ |
| description | String | å¦ | æ¨æ–‡é…æ–‡ï¼ˆè¯¦ç»†æè¿°ï¼‰ |
| tags | String | å¦ | æ ‡ç­¾åˆ—è¡¨ï¼ˆé€—å·åˆ†éš”ï¼Œæœ€å¤š5ä¸ªï¼‰ |

**è¿”å›å€¼**:

```json
{
  "success": true,
  "message": "å›¾ç‰‡ä¸Šä¼ æˆåŠŸ",
  "data": {
    "id": 1,
    "image_id": "IMG_2025Q4_123456",
    "user_id": 1,
    "title": "ç¾ä¸½çš„é£æ™¯",
    "description": "ä»Šå¤©æ‹æ‘„çš„æ—¥è½",
    "file_url": "/uploads/images/abc123.jpg",
    "thumbnail_url": "/uploads/thumbnails/abc123_thumb.jpg",
    "file_size": 1024000,
    "width": 1920,
    "height": 1080,
    "mime_type": "image/jpeg",
    "like_count": 0,
    "favorite_count": 0,
    "view_count": 0,
    "status": "APPROVED",
    "create_time": 1759844400,
    "update_time": 1759844400
  },
  "timestamp": 1759844400
}
```

**é”™è¯¯ç **:
- `401 Unauthorized`: æœªæä¾›æˆ–æ— æ•ˆçš„è®¤è¯ä»¤ç‰Œ
- `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯ï¼ˆæœªæ‰¾åˆ°å›¾ç‰‡æ–‡ä»¶ã€æ ‡é¢˜ä¸ºç©ºã€æ–‡ä»¶è¿‡å¤§ç­‰ï¼‰
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 2. è·å–æœ€æ–°å›¾ç‰‡åˆ—è¡¨

**åŠŸèƒ½ä»‹ç»**: è·å–æœ€æ–°å‘å¸ƒçš„å›¾æ–‡æ¨æ–‡åˆ—è¡¨ï¼ˆæŒ‰æ—¶é—´å€’åºï¼‰

**è¯·æ±‚æ–¹å¼**: `GET`

**è¯·æ±‚è·¯å¾„**: `/images?page=1&page_size=20`

**è¯·æ±‚å¤´**:
```
æ— éœ€è®¤è¯
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| page | Integer | å¦ | 1 | é¡µç ï¼ˆä»1å¼€å§‹ï¼‰ |
| page_size | Integer | å¦ | 20 | æ¯é¡µæ•°é‡ï¼ˆæœ€å¤§100ï¼‰ |

**è¿”å›å€¼**:

```json
{
  "success": true,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "total": 100,
    "page": 1,
    "page_size": 20,
    "images": [
      {
        "id": 1,
        "image_id": "IMG_2025Q4_123456",
        "user_id": 1,
        "title": "ç¾ä¸½çš„é£æ™¯",
        "description": "ä»Šå¤©æ‹æ‘„çš„æ—¥è½",
        "file_url": "/uploads/images/abc123.jpg",
        "thumbnail_url": "/uploads/thumbnails/abc123_thumb.jpg",
        "file_size": 1024000,
        "width": 1920,
        "height": 1080,
        "mime_type": "image/jpeg",
        "like_count": 10,
        "favorite_count": 5,
        "view_count": 100,
        "status": "APPROVED",
        "create_time": 1759844400,
        "update_time": 1759844400
      }
    ]
  },
  "timestamp": 1759844400
}
```

**é”™è¯¯ç **:
- `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 3. è·å–å›¾ç‰‡è¯¦æƒ…

**åŠŸèƒ½ä»‹ç»**: è·å–æŒ‡å®šå›¾æ–‡æ¨æ–‡çš„è¯¦ç»†ä¿¡æ¯ï¼ˆä¼šå¢åŠ æµè§ˆæ•°ï¼‰

**è¯·æ±‚æ–¹å¼**: `GET`

**è¯·æ±‚è·¯å¾„**: `/images/:id`

**è¯·æ±‚å¤´**:
```
æ— éœ€è®¤è¯
```

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | String | å›¾ç‰‡ä¸šåŠ¡é€»è¾‘IDï¼ˆimage_idï¼‰ |

**è¿”å›å€¼**:

```json
{
  "success": true,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "id": 1,
    "image_id": "IMG_2025Q4_123456",
    "user_id": 1,
    "title": "ç¾ä¸½çš„é£æ™¯",
    "description": "ä»Šå¤©æ‹æ‘„çš„æ—¥è½",
    "file_url": "/uploads/images/abc123.jpg",
    "thumbnail_url": "/uploads/thumbnails/abc123_thumb.jpg",
    "file_size": 1024000,
    "width": 1920,
    "height": 1080,
    "mime_type": "image/jpeg",
    "like_count": 10,
    "favorite_count": 5,
    "view_count": 101,
    "status": "APPROVED",
    "create_time": 1759844400,
    "update_time": 1759844400
  },
  "timestamp": 1759844400
}
```

**é”™è¯¯ç **:
- `404 Not Found`: å›¾ç‰‡ä¸å­˜åœ¨
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 4. æ›´æ–°å›¾æ–‡é…æ–‡

> **âŒ å·²åºŸå¼ƒ**: è¯·ä½¿ç”¨ `PUT /posts/:post_id` ä»£æ›¿

**åŠŸèƒ½ä»‹ç»**: æ›´æ–°å›¾æ–‡æ¨æ–‡çš„æ ‡é¢˜å’Œé…æ–‡ï¼ˆåªæœ‰æ‰€æœ‰è€…å¯ä»¥ç¼–è¾‘ï¼‰

**è¯·æ±‚æ–¹å¼**: `PUT`

**è¯·æ±‚è·¯å¾„**: `/images/:id`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
Authorization: Bearer {access_token}
```

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | String | å›¾ç‰‡ä¸šåŠ¡é€»è¾‘IDï¼ˆimage_idï¼‰ |

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| title | String | æ˜¯ | æ–°æ ‡é¢˜ï¼ˆæœ€å¤š255å­—ç¬¦ï¼‰ |
| description | String | å¦ | æ–°é…æ–‡ |

**è¯·æ±‚ç¤ºä¾‹**:

```json
{
  "title": "æ›´æ–°åçš„æ ‡é¢˜",
  "description": "æ›´æ–°åçš„é…æ–‡"
}
```

**è¿”å›å€¼**:

```json
{
  "success": true,
  "message": "æ›´æ–°æˆåŠŸ",
  "data": null,
  "timestamp": 1759844400
}
```

**é”™è¯¯ç **:
- `401 Unauthorized`: æœªæä¾›æˆ–æ— æ•ˆçš„è®¤è¯ä»¤ç‰Œ
- `403 Forbidden`: æ— æƒé™ï¼ˆä¸æ˜¯å›¾ç‰‡æ‰€æœ‰è€…ï¼‰æˆ–å›¾ç‰‡ä¸å­˜åœ¨
- `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯ï¼ˆæ ‡é¢˜ä¸ºç©ºã€æ ‡é¢˜è¿‡é•¿ç­‰ï¼‰
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 5. åˆ é™¤å›¾ç‰‡

**åŠŸèƒ½ä»‹ç»**: åˆ é™¤å›¾æ–‡æ¨æ–‡ï¼ˆåªæœ‰æ‰€æœ‰è€…å¯ä»¥åˆ é™¤ï¼‰

**è¯·æ±‚æ–¹å¼**: `DELETE`

**è¯·æ±‚è·¯å¾„**: `/images/:id`

**è¯·æ±‚å¤´**:
```
Authorization: Bearer {access_token}
```

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | String | å›¾ç‰‡ä¸šåŠ¡é€»è¾‘IDï¼ˆimage_idï¼‰ |

**è¿”å›å€¼**:

```json
{
  "success": true,
  "message": "åˆ é™¤æˆåŠŸ",
  "data": null,
  "timestamp": 1759844400
}
```

**é”™è¯¯ç **:
- `401 Unauthorized`: æœªæä¾›æˆ–æ— æ•ˆçš„è®¤è¯ä»¤ç‰Œ
- `403 Forbidden`: æ— æƒé™ï¼ˆä¸æ˜¯å›¾ç‰‡æ‰€æœ‰è€…ï¼‰æˆ–å›¾ç‰‡ä¸å­˜åœ¨
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

### 6. è·å–ç”¨æˆ·å›¾ç‰‡åˆ—è¡¨

**åŠŸèƒ½ä»‹ç»**: è·å–æŒ‡å®šç”¨æˆ·å‘å¸ƒçš„å›¾æ–‡æ¨æ–‡åˆ—è¡¨

**è¯·æ±‚æ–¹å¼**: `GET`

**è¯·æ±‚è·¯å¾„**: `/users/:id/images?page=1&page_size=20`

**è¯·æ±‚å¤´**:
```
æ— éœ€è®¤è¯
```

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | Integer | ç”¨æˆ·ID |

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| page | Integer | å¦ | 1 | é¡µç ï¼ˆä»1å¼€å§‹ï¼‰ |
| page_size | Integer | å¦ | 20 | æ¯é¡µæ•°é‡ï¼ˆæœ€å¤§100ï¼‰ |

**è¿”å›å€¼**:

```json
{
  "success": true,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "total": 50,
    "page": 1,
    "page_size": 20,
    "images": [
      {
        "id": 1,
        "image_id": "IMG_2025Q4_123456",
        "user_id": 1,
        "title": "ç¾ä¸½çš„é£æ™¯",
        "description": "ä»Šå¤©æ‹æ‘„çš„æ—¥è½",
        "file_url": "/uploads/images/abc123.jpg",
        "thumbnail_url": "/uploads/thumbnails/abc123_thumb.jpg",
        "file_size": 1024000,
        "width": 1920,
        "height": 1080,
        "mime_type": "image/jpeg",
        "like_count": 10,
        "favorite_count": 5,
        "view_count": 100,
        "status": "APPROVED",
        "create_time": 1759844400,
        "update_time": 1759844400
      }
    ]
  },
  "timestamp": 1759844400
}
```

**é”™è¯¯ç **:
- `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---


## ç³»ç»Ÿç›¸å…³API

### 1. å¥åº·æ£€æŸ¥

**åŠŸèƒ½ä»‹ç»**: æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ

**è¯·æ±‚æ–¹å¼**: `GET`

**è¯·æ±‚è·¯å¾„**: `/health`

**è¯·æ±‚å‚æ•°**: æ— 

**è¿”å›å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| status | string | æœåŠ¡çŠ¶æ€ |
| timestamp | integer | æ—¶é—´æˆ³ |

**æˆåŠŸå“åº”ç¤ºä¾‹**:
```json
{
  "status": "healthy",
  "timestamp": 1704067200
}
```

---

### 2. ç³»ç»ŸæŒ‡æ ‡

**åŠŸèƒ½ä»‹ç»**: è·å–ç³»ç»Ÿè¿è¡ŒæŒ‡æ ‡

**è¯·æ±‚æ–¹å¼**: `GET`

**è¯·æ±‚è·¯å¾„**: `/metrics`

**è¯·æ±‚å‚æ•°**: æ— 

**è¿”å›å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| uptime | integer | è¿è¡Œæ—¶é—´ï¼ˆç§’ï¼‰ |
| requests_total | integer | æ€»è¯·æ±‚æ•° |
| database_connections | integer | æ•°æ®åº“è¿æ¥æ•° |

**æˆåŠŸå“åº”ç¤ºä¾‹**:
```json
{
  "uptime": 3600,
  "requests_total": 1234,
  "database_connections": 10
}
```

---

### 3. ç‰ˆæœ¬ä¿¡æ¯

**åŠŸèƒ½ä»‹ç»**: è·å–APIç‰ˆæœ¬ä¿¡æ¯

**è¯·æ±‚æ–¹å¼**: `GET`

**è¯·æ±‚è·¯å¾„**: `/api/v1/version`

**è¯·æ±‚å‚æ•°**: æ— 

**è¿”å›å‚æ•°**:

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| version | string | APIç‰ˆæœ¬ |
| build_time | string | æ„å»ºæ—¶é—´ |

**æˆåŠŸå“åº”ç¤ºä¾‹**:
```json
{
  "version": "1.0.0",
  "build_time": "2025-01-01T00:00:00Z"
}
```

---

## ğŸ“Œ é€šç”¨è¯´æ˜

### è®¤è¯æ–¹å¼

å¤§éƒ¨åˆ†APIéœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦JWTè®¿é—®ä»¤ç‰Œï¼š

```
Authorization: Bearer {access_token}
```

### å“åº”æ ¼å¼

æ‰€æœ‰APIå“åº”å‡ä¸ºJSONæ ¼å¼ï¼ŒåŒ…å«ä»¥ä¸‹åŸºæœ¬å­—æ®µï¼š

```json
{
  "success": true/false,
  "message": "æ¶ˆæ¯å†…å®¹",
  "data": {}
}
```

### é”™è¯¯å¤„ç†

å½“è¯·æ±‚å¤±è´¥æ—¶ï¼Œå“åº”ä¸­ä¼šåŒ…å«è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼š

```json
{
  "success": false,
  "message": "é”™è¯¯æè¿°",
  "data": null
}
```

### çŠ¶æ€ç 

- `200 OK`: è¯·æ±‚æˆåŠŸ
- `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯
- `401 Unauthorized`: æœªæˆæƒï¼ˆä»¤ç‰Œæ— æ•ˆæˆ–è¿‡æœŸï¼‰
- `403 Forbidden`: ç¦æ­¢è®¿é—®
- `404 Not Found`: èµ„æºä¸å­˜åœ¨
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

---

## ğŸ” å®‰å…¨è¯´æ˜

1. **å¯†ç å®‰å…¨**: ä½¿ç”¨PBKDF2-HMAC-SHA256ç®—æ³•ï¼Œ100,000æ¬¡è¿­ä»£
2. **ä»¤ç‰Œå®‰å…¨**: JWTä»¤ç‰Œä½¿ç”¨HS256ç­¾åç®—æ³•
3. **ä¼ è¾“å®‰å…¨**: ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨HTTPS
4. **SQLæ³¨å…¥é˜²æŠ¤**: æ‰€æœ‰æ•°æ®åº“æŸ¥è¯¢ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 (2025-10-08)
- âœ… æ–°å¢å¸–å­ç®¡ç†APIï¼ˆ9ä¸ªæ¥å£ï¼‰
  - åˆ›å»ºå¸–å­ï¼ˆæ”¯æŒ1-9å¼ å›¾ç‰‡ï¼‰
  - è·å–å¸–å­è¯¦æƒ…
  - æ›´æ–°å¸–å­
  - åˆ é™¤å¸–å­
  - è·å–Feedæµï¼ˆåˆ†é¡µï¼‰
  - è·å–ç”¨æˆ·å¸–å­åˆ—è¡¨
  - æ·»åŠ å›¾ç‰‡åˆ°å¸–å­
  - åˆ é™¤å¸–å­ä¸­çš„å›¾ç‰‡
  - è°ƒæ•´å›¾ç‰‡é¡ºåº
- âœ… å›¾ç‰‡ç®¡ç†APIå‡çº§ä¸ºå¸–å­ç³»ç»Ÿ
- âŒ åºŸå¼ƒ PUT /images/:image_id/textï¼ˆä½¿ç”¨ PUT /posts/:post_id ä»£æ›¿ï¼‰

### v1.2.0 (2025-10-05)
- âœ… æ–°å¢å›¾ç‰‡ç®¡ç†APIï¼ˆ6ä¸ªæ¥å£ï¼‰
  - ä¸Šä¼ å›¾ç‰‡
  - è·å–å›¾ç‰‡è¯¦æƒ…
  - è·å–æœ€è¿‘å›¾ç‰‡åˆ—è¡¨
  - æ›´æ–°å›¾ç‰‡æ–‡æœ¬
  - åˆ é™¤å›¾ç‰‡
  - è·å–ç”¨æˆ·å›¾ç‰‡åˆ—è¡¨

### v1.0.0 (2025-01-XX)
- âœ… å®ç°ç”¨æˆ·æ³¨å†ŒAPI
- âœ… å®ç°ç”¨æˆ·ç™»å½•APIï¼ˆæ”¯æŒç”¨æˆ·å/æ‰‹æœºå·/é‚®ç®±ï¼‰
- âœ… å®ç°ä»¤ç‰ŒéªŒè¯API
- âœ… å®ç°ä»¤ç‰Œåˆ·æ–°API
- âœ… å®ç°ç”¨æˆ·ç™»å‡ºAPI
- âœ… å®ç°ä¿®æ”¹å¯†ç API
- âœ… å®ç°å¥åº·æ£€æŸ¥API
- âœ… å®ç°ç³»ç»ŸæŒ‡æ ‡API
- âœ… å®ç°ç‰ˆæœ¬ä¿¡æ¯API

---

**æ–‡æ¡£æœ€åæ›´æ–°**: 2025-10-02
**ç»´æŠ¤è€…**: Shared Parking Team
