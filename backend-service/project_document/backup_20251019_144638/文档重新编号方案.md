# 项目文档重新编号方案

**创建时间**: 2025-10-19  
**目的**: 按照创建时间和文档分类重新整理编号，使文档编号更加清晰有序

---

## 一、编号规则说明

根据 `CLAUDE.md` 的规定：
- **[000]-[099]**: 项目开发的指导性文件（核心文档）
- **[100]-[199]**: 项目开发的阶段性实现相关文档
- **[200]-[299]**: 技术设计与实现的专题文档

---

## 二、当前文档混乱情况

### 问题1：编号重复
- `[110]` 出现了3次
- `[112]` 出现了2次
- `[113]` 出现了2次
- `[121]` 出现了2次

### 问题2：编号与创建时间不符
- 较新的文档使用了较小的编号
- 编号跳跃，没有连续性

### 问题3：分类不清
- 有些阶段文档编号在100-199区间，但有些在110+
- 有些实施报告编号混乱

---

## 三、重新编号方案

### 核心文档 [000]-[099]

| 旧编号 | 新编号 | 文档名 | 创建时间 | 说明 |
|-------|-------|--------|---------|------|
| [000] | [000] | API文档 | 2025-10-17 | 保持不变 |
| [001] | [001] | 数据库设计文档 | 2025-10-12 | 保持不变 |
| [002] | [002] | 项目架构文档 | 2025-10-12 | 保持不变 |
| [003] | [003] | 环境安装配置教程 | 2025-10-12 | 保持不变 |
| 无 | [004] | README | 2025-10-12 | 新增编号 |
| 无 | [005] | API_DOC_UPDATE | 2025-10-15 | 新增编号 |

**说明**: 核心指导性文档编号保持稳定

---

### 阶段实现文档 [100]-[149]

按创建时间排序：

| 旧编号 | 新编号 | 文档名 | 创建时间 | 阶段 |
|-------|-------|--------|---------|------|
| [100] | [100] | 阶段A-基础模块实现 | 2025-10-12 | A |
| [101] | [101] | 阶段B-用户认证模块 | 2025-10-12 | B |
| [102] | [102] | 阶段C-图片管理模块 | 2025-10-12 | C |
| [103] | [103] | 阶段C-1-图片管理模块第一次测试情况 | 2025-10-12 | C-1 |
| [104] | [104] | Apifox测试流程-BUG修复验证 | 2025-10-12 | 测试 |
| [105] | [105] | 阶段C-2-多图片帖子系统 | 2025-10-12 | C-2 |
| [106] | [106] | 用户信息管理功能完善-实施计划 | 2025-10-17 | D-用户 |
| [107] | [107] | 阶段D-1-互动系统点赞收藏功能实现计划 | 2025-10-17 | D-1 |
| [108] | [108] | 阶段D-2-互动系统关注功能实现计划 | 2025-10-12 | D-2 |
| [111] | [109] | 阶段D-4-图片静态文件服务实现方案 | 2025-10-12 | D-4 |
| [110] | [110] | 阶段C-3-帖子图片静态文件服务修复方案 | 2025-10-12 | C-3 |
| [111] | [111] | Deep Link配置使用教程-鸿蒙开发指南 | 2025-10-17 | 教程 |

---

### 问题修复与优化文档 [150]-[179]

按创建时间排序：

| 旧编号 | 新编号 | 文档名 | 创建时间 | 类型 |
|-------|-------|--------|---------|------|
| [113] | [150] | 全流程测试报告-帖子管理重点 | 2025-10-13 | 测试报告 |
| [114] | [151] | 多图片功能修复和实现报告 | 2025-10-13 | 修复报告 |
| [112] | [152] | Base64图片上传问题分析与解决方案 | 2025-10-14 | 问题分析 |
| [113] | [153] | 日志监控指南-图片上传排查手册 | 2025-10-14 | 运维手册 |
| [115] | [154] | 创建帖子接口支持JSON+Base64格式-实施计划 | 2025-10-14 | 实施计划 |
| [116] | [155] | JSON+Base64内存崩溃紧急修复报告 | 2025-10-15 | 紧急修复 |
| 无 | [156] | 创建帖子请求流程文档 | 2025-10-15 | 流程文档 |
| [109] | [157] | 用户信息更新接口BUG修复报告 | 2025-10-15 | BUG修复 |
| [110] | [158] | Feed流性能优化报告 | 2025-10-15 | 性能优化 |
| [112] | [159] | JWT测试 | 2025-10-17 | 测试 |
| [110] | [160] | v2.4.0-图片URL自动前缀功能 | 2025-10-17 | 版本功能 |
| [122] | [161] | 关注功能测试问题汇总 | 2025-10-17 | 测试问题 |
| [121] | [162] | 关注功能完整测试报告 | 2025-10-17 | 测试报告 |
| [117] | [163] | 帖子接口用户ID逻辑化改造方案 | 2025-10-18 | 改造方案 |
| [117] | [164] | 帖子接口用户ID逻辑化改造-实施报告 | 2025-10-18 | 实施报告 |
| [118] | [165] | Feed流用户状态批量查询优化方案 | 2025-10-18 | 优化方案 |
| [119] | [166] | 帖子详情接口添加用户昵称字段-实施方案 | 2025-10-18 | 实施方案 |
| [120] | [167] | 用户头像上传功能-实施方案 | 2025-10-18 | 实施方案 |
| [123] | [168] | 获取用户帖子接口问题修复方案 | 2025-10-18 | 修复方案 |
| [121] | [169] | 头像上传功能内存泄漏问题分析报告 | 2025-10-19 | 问题分析 |

---

### 技术专题文档 [200]-[299]

| 旧编号 | 新编号 | 文档名 | 创建时间 | 类型 |
|-------|-------|--------|---------|------|
| [200] | [200] | 数据库设计文档 | 2025-10-12 | 保持不变 |
| [201] | [201] | 性能优化专题 | 2025-10-12 | 保持不变 |

---

## 四、重命名脚本

```bash
#!/bin/bash
# 文档重命名脚本
# 位置: /home/kun/projects/SharePix/backend-service/project_document/

cd /home/kun/projects/SharePix/backend-service/project_document/

# 创建备份目录
mkdir -p backup_$(date +%Y%m%d_%H%M%S)
cp *.md backup_$(date +%Y%m%d_%H%M%S)/

# 阶段实现文档 [100-149] - 已经正确，无需改动
# [100]-[108] 保持不变

# 需要重命名的文档
echo "开始重命名..."

# [109] 原[111]阶段D-4
if [ -f "[111]阶段D-4-图片静态文件服务实现方案.md" ]; then
    mv "[111]阶段D-4-图片静态文件服务实现方案.md" "[109]阶段D-4-图片静态文件服务实现方案.md"
    echo "✓ [111] -> [109] 阶段D-4"
fi

# [110] 原阶段C-3 - 已经正确
# [111] 原Deep Link - 已经正确

# 问题修复与优化文档 [150-179]
mv "[113]全流程测试报告-帖子管理重点.md" "[150]全流程测试报告-帖子管理重点.md" 2>/dev/null
echo "✓ [113] -> [150]"

mv "[114]多图片功能修复和实现报告.md" "[151]多图片功能修复和实现报告.md" 2>/dev/null
echo "✓ [114] -> [151]"

mv "[112]Base64图片上传问题分析与解决方案.md" "[152]Base64图片上传问题分析与解决方案.md" 2>/dev/null
echo "✓ [112] -> [152]"

mv "[113]日志监控指南-图片上传排查手册.md" "[153]日志监控指南-图片上传排查手册.md" 2>/dev/null
echo "✓ [113] -> [153]"

mv "[115]创建帖子接口支持JSON+Base64格式-实施计划.md" "[154]创建帖子接口支持JSON+Base64格式-实施计划.md" 2>/dev/null
echo "✓ [115] -> [154]"

mv "[116]JSON+Base64内存崩溃紧急修复报告.md" "[155]JSON+Base64内存崩溃紧急修复报告.md" 2>/dev/null
echo "✓ [116] -> [155]"

mv "创建帖子请求流程文档.md" "[156]创建帖子请求流程文档.md" 2>/dev/null
echo "✓ 无编号 -> [156]"

mv "[109]用户信息更新接口BUG修复报告.md" "[157]用户信息更新接口BUG修复报告.md" 2>/dev/null
echo "✓ [109] -> [157]"

mv "[110]Feed流性能优化报告.md" "[158]Feed流性能优化报告.md" 2>/dev/null
echo "✓ [110] -> [158]"

mv "[112]JWT测试.md" "[159]JWT测试.md" 2>/dev/null
echo "✓ [112] -> [159]"

mv "[110]v2.4.0-图片URL自动前缀功能.md" "[160]v2.4.0-图片URL自动前缀功能.md" 2>/dev/null
echo "✓ [110] -> [160]"

mv "[122]关注功能测试问题汇总.md" "[161]关注功能测试问题汇总.md" 2>/dev/null
echo "✓ [122] -> [161]"

mv "[121]关注功能完整测试报告.md" "[162]关注功能完整测试报告.md" 2>/dev/null
echo "✓ [121] -> [162]"

mv "[117]帖子接口用户ID逻辑化改造方案.md" "[163]帖子接口用户ID逻辑化改造方案.md" 2>/dev/null
echo "✓ [117] -> [163]"

mv "[117]帖子接口用户ID逻辑化改造-实施报告.md" "[164]帖子接口用户ID逻辑化改造-实施报告.md" 2>/dev/null
echo "✓ [117] -> [164]"

mv "[118]Feed流用户状态批量查询优化方案.md" "[165]Feed流用户状态批量查询优化方案.md" 2>/dev/null
echo "✓ [118] -> [165]"

mv "[119]帖子详情接口添加用户昵称字段-实施方案.md" "[166]帖子详情接口添加用户昵称字段-实施方案.md" 2>/dev/null
echo "✓ [119] -> [166]"

mv "[120]用户头像上传功能-实施方案.md" "[167]用户头像上传功能-实施方案.md" 2>/dev/null
echo "✓ [120] -> [167]"

mv "[123]获取用户帖子接口问题修复方案.md" "[168]获取用户帖子接口问题修复方案.md" 2>/dev/null
echo "✓ [123] -> [168]"

mv "[121]头像上传功能内存泄漏问题分析报告.md" "[169]头像上传功能内存泄漏问题分析报告.md" 2>/dev/null
echo "✓ [121] -> [169]"

# 其他文档
mv "API_DOC_UPDATE.md" "[005]API_DOC_UPDATE.md" 2>/dev/null
echo "✓ 无编号 -> [005]"

mv "README.md" "[004]README.md" 2>/dev/null
echo "✓ 无编号 -> [004]"

echo "重命名完成！"
echo "备份文件保存在 backup_* 目录中"
```

---

## 五、重命名后的文档目录结构

### 核心文档 [000-099] (7个)
```
[000]API文档.md
[001]数据库设计文档.md
[002]项目架构文档.md
[003]环境安装配置教程.md
[004]README.md
[005]API_DOC_UPDATE.md
文档重新编号方案.md (本文档)
```

### 阶段实现文档 [100-149] (12个)
```
[100]阶段A-基础模块实现.md
[101]阶段B-用户认证模块.md
[102]阶段C-图片管理模块.md
[103]阶段C-1-图片管理模块第一次测试情况.md
[104]Apifox测试流程-BUG修复验证.md
[105]阶段C-2-多图片帖子系统.md
[106]用户信息管理功能完善-实施计划.md
[107]阶段D-1-互动系统点赞收藏功能实现计划.md
[108]阶段D-2-互动系统关注功能实现计划.md
[109]阶段D-4-图片静态文件服务实现方案.md
[110]阶段C-3-帖子图片静态文件服务修复方案.md
[111]Deep Link配置使用教程-鸿蒙开发指南.md
```

### 问题修复与优化文档 [150-179] (20个)
```
[150]全流程测试报告-帖子管理重点.md
[151]多图片功能修复和实现报告.md
[152]Base64图片上传问题分析与解决方案.md
[153]日志监控指南-图片上传排查手册.md
[154]创建帖子接口支持JSON+Base64格式-实施计划.md
[155]JSON+Base64内存崩溃紧急修复报告.md
[156]创建帖子请求流程文档.md
[157]用户信息更新接口BUG修复报告.md
[158]Feed流性能优化报告.md
[159]JWT测试.md
[160]v2.4.0-图片URL自动前缀功能.md
[161]关注功能测试问题汇总.md
[162]关注功能完整测试报告.md
[163]帖子接口用户ID逻辑化改造方案.md
[164]帖子接口用户ID逻辑化改造-实施报告.md
[165]Feed流用户状态批量查询优化方案.md
[166]帖子详情接口添加用户昵称字段-实施方案.md
[167]用户头像上传功能-实施方案.md
[168]获取用户帖子接口问题修复方案.md
[169]头像上传功能内存泄漏问题分析报告.md
```

### 技术专题文档 [200-299] (2个)
```
[200]数据库设计文档.md
[201]性能优化专题.md
```

---

## 六、执行建议

### 方案A：自动执行脚本（推荐）
```bash
cd /home/kun/projects/SharePix/backend-service/project_document/
chmod +x rename_docs.sh
./rename_docs.sh
```

### 方案B：手动逐个重命名
按照上面的表格手动重命名每个文件

### 方案C：分批执行
1. 先备份所有文档
2. 分批重命名（核心、阶段、问题、技术）
3. 每批重命名后检查

---

## 七、重命名后需要更新的文件

重命名完成后，需要同步更新以下文件中的文档引用：

1. **CLAUDE.md** - 文档纲要部分
2. **README.md** - 文档索引部分
3. **[000]API文档.md** - 相关文档链接

---

## 八、审核清单

请确认：
- [ ] 编号方案是否合理？
- [ ] 是否有遗漏的文档？
- [ ] 是否需要调整编号规则？
- [ ] 是否同意执行重命名？

---

**方案创建时间**: 2025-10-19  
**预计执行时间**: 10分钟  
**风险评估**: 低（已创建备份）

